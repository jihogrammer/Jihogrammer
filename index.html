<!DOCTYPE html>
<html>
<head>
  <title>Jihogrammer Blog</title>
</head>
<body>
  <h1>Hello, GitHub Pages!</h1>

  <ul>
    <li><a href="articles/redis-cluster-docker-compose-and-spring-boot">redis-cluster-docker-compose-and-spring-boot</a></li>
  </ul>

  <pre id="basic-flow-chart" class="mermaid"></pre>

  <h3>Random Potery</h3>
  <table>
    <thead>
      <tr>
        <th id="random-poetry-title"></th>
      </tr>
      <tr>
        <th id="random-poetry-author"></th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>
          <pre id="random-poetry-lines"></pre>
        </td>
      </tr>
    </tbody>
  </table>
  <pre id="random" class="mermaid"></pre>

  <script>
    fetch('sources/basic-flow-chart.mermaid')
      .then(res => res.text())
      .then(text => {
        console.log({text})
        const script = text.replace("<br>", "");
        document.getElementById("basic-flow-chart").innerText = script;
      })
      .catch(e => {
        console.error(e);
        document.getElementById("basic-flow-chart").innerText = "flowchart LR\n  hello --> world";
      });

    fetch('https://poetrydb.org/random')
      .then(res => res.json())
      .then(result => {
        const poetry = result[0];

        console.log({...poetry});
        document.getElementById("random-poetry-title").innerText = poetry["title"];
        document.getElementById("random-poetry-author").innerText = poetry["author"];
        document.getElementById("random-poetry-lines").innerText = poetry["lines"].join('\n');
      })
      .catch(e => {
        console.error(e);
        document.getElementById("random-poetry-title").innerText = "failed to get a poetry";
      });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.0/dist/mermaid.min.js"></script>
</body>
</html>
